📌 專案名稱：LINE 智能記帳與提醒助手

一、產品規劃文件（PRD - Product Requirements Document）

🎯 產品使命

打造一個「無需安裝 App」的個人財務與生活管理工具，讓使用者可透過 LINE 自然語言即時記錄收支與建立提醒任務，並透過 Web App 查詢報表與待辦，實現「輸入即記錄，使用即完成」的無縫體驗。

👥 目標用戶族群

每日需記帳但無習慣使用專用 App 的族群

仰賴 LINE 進行日常資訊記錄與溝通的使用者

需要個人化、圖像化且操作簡便的提醒與記帳功能者

🔧 功能模組概要

記帳模組

自然語言支出 / 收入辨識（如「早餐 -120」、「薪水 +30000」）

分類自動對應與 Quick Reply 快速選單

提醒模組

自然語言提醒建立（如「#4/12 早上看牙醫」）

支援提前通知 / 重複週期設定

報表模組

視覺化支出收入比例圖

區段彙整（本日 / 本週 / 本月）

分類與帳戶管理模組

自訂分類與帳戶名稱

切換預設分類 / 帳戶

PWA 前端介面

任務清單 / 帳戶餘額 / 報表瀏覽 / 資料輸出（PDF / Excel）

二、產品使用流程圖（App Flow）

flowchart TD
    A[使用者輸入自然語言] --> B{AI 判斷類型}
    B -->|包含金額| C[記帳流程啟動]
    B -->|#提醒符號| D[提醒建立流程]
    B -->|報表關鍵字| E[查詢分析流程]
    C --> F[選擇分類與帳戶]
    F --> G[資料儲存 + Flex 回覆]
    D --> H[轉換成提醒格式]
    H --> I[儲存提醒 + Flex 回覆]

三、LINE Bot 前端互動設計（Flex Message）

📌 支出 / 收入記帳 Flex

標題：「✅ 記帳完成」

顯示欄位：項目 / 金額 / 分類 / 時間

按鈕：修改分類、加入備註

📈 報表查詢 Flex

標題：「📊 月報總覽」

顯示：分類比例圖 + 數據表

按鈕：下載報表、切換月份

🔔 提醒建立 Flex

標題：「⏰ 提醒已建立」

顯示：提醒標題 / 時間 / 重複設定

按鈕：編輯、刪除、開啟 PWA

四、Webhook 處理邏輯（後端邏輯）

📥 處理流程

路由：POST /api/webhook

取得 event.message.text

呼叫多工 AI Prompt 進行語意解析

對應 type 呼叫：記帳儲存 / 提醒儲存 / 報表查詢

回傳對應 Flex Message 或錯誤提示

🧾 資料格式 - 記帳

{
  "userId": "Uxxxxxxxx",
  "type": "expense",
  "item": "早餐",
  "amount": 100,
  "category": "飲食",
  "date": "2025-04-09"
}

⏰ 資料格式 - 提醒

{
  "userId": "Uxxxxxxxx",
  "title": "看醫生",
  "time": "2025-04-09T10:00:00Z",
  "remindType": "提前30分鐘",
  "repeat": "每週一"
}

五、視覺規範（Flex 設計指南）

🎨 卡片風格

採圓角區塊式卡片（8px radius）

Flex layout 分區清晰，段落留白適中

表現分類以 emoji / icon 呈現（🍱 飲食、💼 工作）

📐 字體與配色

標題字體：18px 粗體、主色 #222

金額區塊：支出為紅、收入為綠

內容字體：14px 正常，段落 Padding：16px

🔘 快速回覆與按鈕互動

使用 Quick Reply：分類 / 帳戶切換

Flex 按鈕分頁切換每頁最多 6 類別

六、PWA Web 應用功能規劃

⛳ 首頁

顯示歡迎訊息、登入狀態與帳戶總覽

快速功能連結區：記帳 / 提醒 / 報表

💰 記帳頁

輸入金額 / 備註 / 下拉分類與帳戶

儲存後即時刷新報表統計

📊 報表頁

區間選擇：今天 / 本週 / 本月 / 自訂

顯示：收入 / 支出 / 餘額 + 圖表

支援匯出：PDF / Excel

🕒 提醒頁

任務新增 + 編輯 / 重複 / 提前通知

任務列表（Checkbox 可切換完成）

提供 PWA 提醒開關與同步設計

